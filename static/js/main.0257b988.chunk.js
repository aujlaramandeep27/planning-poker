(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n.p+"static/media/pp_logo_transaparent.5658e215.png"},36:function(e,t,n){e.exports=n(55)},54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=n(0),a=n.n(r),c=n(20),o=n.n(c),u=n(24),i=n(7),s=n(3),l=n.n(s),m=n(8),d=n(2),p={headers:{"Content-Type":"application/json",mode:"cors"}},f=Object({NODE_ENV:"production",PUBLIC_URL:"/planning-poker"}).REACT_APP_API_URL?Object({NODE_ENV:"production",PUBLIC_URL:"/planning-poker"}).REACT_APP_API_URL:"https://planning-poker-241613.appspot.com",E=function(e){return fetch(e,p).then(function(e){if(!e.ok)throw Error("HTTP status "+e.status);return e.json()}).catch(function(t){throw t||Error("Get data failed from url "+e)})},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){if(!e.ok)throw Error("HTTP status "+e.status);return e.json()}).catch(function(t){throw t||Error("Post data failed to url "+e)})},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){if(!e.ok)throw Error("HTTP status "+e.status);return e.json()}).catch(function(t){throw t||Error("Post data failed to url "+e)})},g=function(e){return fetch(e,{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin"}).then(function(e){if(!e.ok)throw Error("HTTP status "+e.status);return e.json()}).catch(function(t){throw t||Error("Delete data failed from url "+e)})},y={all:function(){return E("".concat(f,"/meetings"))},byId:function(e){return E("".concat(f,"/meetings/").concat(e))},create:function(e){return k("".concat(f,"/meetings"),e)},delete:function(e){return g("".concat(f,"/meetings/").concat(e))},getCurrentStory:function(e){return E("".concat(f,"/meetings/").concat(e,"/currentStory"))},updateCurrentStory:function(e,t){return b("".concat(f,"/meetings/").concat(e,"/currentStory"),t)}},v=function(e){return e.currentMeeting._id},h=function(e){return e.currentStory},x=function(e){return e.user._id},O=function(e){return e.router.location.state},S={all:function(e){var t=new URL("".concat(f,"/stories")),n={meetingId:e};return t.search=new URLSearchParams(n),E(t)},post:function(e,t){var n=new URL("".concat(f,"/stories")),r={meetingId:e};return n.search=new URLSearchParams(r),k(n,t)},delete:function(e){return g("".concat(f,"/stories/").concat(e))},getStoryEstimates:function(e){return E("".concat(f,"/stories/").concat(e,"/estimates"))},updateStoryEstimate:function(e,t){return b("".concat(f,"/stories/").concat(e,"/estimates"),t)}},T=l.a.mark(C),j=l.a.mark(M),_=l.a.mark(P),N="STORY_ESTIMATE_REQUESTED",w="RESET_STORY_ESTIMATE_REQUESTED",R="STORY_ESTIMATE_SUCCESS",I="STORY_ESTIMATE_ERROR";function C(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.h)(N,M);case 2:return e.next=4,Object(d.h)(w,P);case 4:case"end":return e.stop()}},T)}function M(e){var t,n,r,a;return l.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,n=t.userId,r=t.storyId,a=t.estimate,c.prev=1,c.next=4,Object(d.b)(S.updateStoryEstimate,r,D(n,a));case 4:return c.next=6,Object(d.d)(L(a));case 6:c.next=12;break;case 8:return c.prev=8,c.t0=c.catch(1),c.next=12,Object(d.d)((o=c.t0,{type:I,payload:{error:o}}));case 12:case"end":return c.stop()}var o},j,null,[[1,8]])}function U(){return{type:w}}function P(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)(L(0));case 2:case"end":return e.stop()}},_)}function D(e,t){return{user:e,estimate:t}}function L(e){return{type:R,payload:{estimate:e}}}var A=l.a.mark(X),G=l.a.mark($),Q=l.a.mark(q),Y="CURRENT_STORY_SUCCESS",B="CURRENT_STORY_ERROR",W="CURRENT_STORY_GET_REQUESTED",H="CURRENT_STORY_START_POLLING_REQUESTED",J="CURRENT_STORY_STOP_POLLING_REQUESTED",V=4e3;function X(){var e;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.h)(W,$);case 2:return t.next=5,Object(d.g)(H);case 5:return e=t.sent,t.next=8,Object(d.e)({task:Object(d.b)(q,e),cancel:Object(d.g)(J)});case 8:t.next=2;break;case 10:case"end":return t.stop()}},A)}function F(e){return{type:W,payload:e}}function $(e){var t,n;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(d.b)(y.getCurrentStory,t);case 4:return n=r.sent,r.next=7,Object(d.d)(z(n));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(d.d)(K(r.t0));case 13:case"end":return r.stop()}},G,null,[[1,9]])}function q(e){var t,n,r;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t=e.payload;case 1:return a.prev=2,a.next=5,Object(d.f)(h);case 5:return n=a.sent,a.next=8,Object(d.b)(y.getCurrentStory,t);case 8:if(!(r=a.sent)){a.next=14;break}return a.next=12,n._id!==r._id?Object(d.d)(U()):"";case 12:a.next=16;break;case 14:return a.next=16,null!==n._id?Object(d.d)(U()):"";case 16:return a.next=18,Object(d.d)(z(r));case 18:a.next=24;break;case 20:return a.prev=20,a.t0=a.catch(2),a.next=24,Object(d.d)(K(a.t0));case 24:return a.next=26,Object(d.c)(V);case 26:a.next=1;break;case 28:case"end":return a.stop()}},Q,null,[[2,20]])}function z(e){return{type:Y,payload:{currentStory:e}}}function K(e){return{type:B,payload:{error:e}}}var Z=l.a.mark(oe),ee=l.a.mark(ie),te=l.a.mark(se),ne="CURRENT_MEETING_SUCCESS",re="CURRENT_MEETING_ERROR",ae="CURRENT_MEETING_GET_REQUESTED",ce="UPDATE_CURRENT_STORY_REQUESTED";function oe(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.h)(ae,ie);case 2:return e.next=4,Object(d.h)(ce,se);case 4:case"end":return e.stop()}},Z)}function ue(e){return{type:ae,payload:e}}function ie(e){var t,n,r;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(d.f)(v);case 4:if(null!==(n=a.sent)&&n===t){a.next=11;break}return a.next=8,Object(d.b)(y.byId,t);case 8:return r=a.sent,a.next=11,Object(d.d)({type:ne,payload:{currentMeeting:r}});case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(1),a.next=17,Object(d.d)(le(a.t0));case 17:case"end":return a.stop()}},ee,null,[[1,13]])}function se(e){var t,n,r;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.meetingId,r=t.storyId,a.prev=1,a.next=4,Object(d.b)(y.updateCurrentStory,n,me(r));case 4:return a.next=6,Object(d.d)(F(n));case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(1),a.next=12,Object(d.d)(le(a.t0));case 12:case"end":return a.stop()}},te,null,[[1,8]])}function le(e){return{type:re,payload:{error:e}}}function me(e){return{storyId:e}}var de=l.a.mark(xe),pe=l.a.mark(Oe),fe=function(){return Object(m.d)("/meeting/create/")},Ee=function(){return Object(m.d)("/story/create/")},ke=function(e){return Object(m.d)("/meeting/".concat(e,"/estimate/"))},be=function(e,t){return Object(m.d)("/meeting/".concat(e,"/story/").concat(t,"/summary/"))},ge=function(e){return Object(m.d)("/meeting/".concat(e,"/stories/"))},ye=function(e){return Object(m.e)("/meeting/".concat(e,"/stories/"))},ve=function(){return Object(m.d)("/meetings/")},he=function(){return Object(m.e)("/meetings/")};function xe(e){var t,n,r;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(d.f)(x);case 2:if(t=a.sent,n=e.payload.location.pathname,null!==t||"/"===n){a.next=9;break}return a.next=7,Object(d.c)(1);case 7:return a.next=9,Object(d.d)(Object(m.e)({pathname:"/",state:{nextPathname:n}}));case 9:if(!n.startsWith("/meeting/")||n.endsWith("create/")){a.next=13;break}return r=n.split("/")[2],a.next=13,Object(d.d)(ue(r));case 13:if(!n.startsWith("/story/create/")){a.next=22;break}return a.next=16,Object(d.f)(v);case 16:if(a.sent){a.next=22;break}return a.next=20,Object(d.c)(1);case 20:return a.next=22,Object(d.d)(he());case 22:case"end":return a.stop()}},de)}function Oe(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.h)(m.b,xe);case 2:case"end":return e.stop()}},pe)}var Se=l.a.mark(Pe),Te=l.a.mark(De),je=l.a.mark(Le),_e=l.a.mark(Ae),Ne="MEETINGS_SUCCESS",we="MEETINGS_ERROR",Re="MEETING_POST_REQUESTED",Ie="MEETING_DELETE_REQUESTED",Ce="MEETINGS_START_POLLING_REQUESTED",Me="MEETINGS_STOP_POLLING_REQUESTED",Ue=4e3;function Pe(){var e;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.h)(Re,Le);case 2:return t.next=4,Object(d.h)(Ie,Ae);case 4:return t.next=7,Object(d.g)(Ce);case 7:return e=t.sent,t.next=10,Object(d.e)({task:Object(d.b)(De,e),cancel:Object(d.g)(Me)});case 10:t.next=4;break;case 12:case"end":return t.stop()}},Se)}function De(){var e;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,t.next=4,Object(d.b)(y.all);case 4:return e=t.sent,t.next=7,Object(d.d)(Ge(e));case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(1),t.next=13,Object(d.d)(Qe(t.t0));case 13:return t.next=15,Object(d.c)(Ue);case 15:t.next=0;break;case 17:case"end":return t.stop()}},Te,null,[[1,9]])}function Le(e){var t;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(d.b)(y.create,Ye(t));case 4:return n.next=6,Object(d.d)(ve());case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(1),n.next=12,Object(d.d)(Qe(n.t0));case 12:case"end":return n.stop()}},je,null,[[1,8]])}function Ae(e){var t;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(d.b)(y.delete,t);case 4:return n.next=6,Object(d.d)(he());case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(1),n.next=12,Object(d.d)(Qe(n.t0));case 12:case"end":return n.stop()}},_e,null,[[1,8]])}function Ge(e){return{type:Ne,payload:{meetings:e}}}function Qe(e){return{type:we,payload:{error:e}}}function Ye(e){return{name:e}}function Be(e){var t=e.goBack;return t?a.a.createElement("span",{"data-uk-icon":"icon: arrow-left; ratio: 1.25",className:"uk-button uk-button-secondary uk-button-small uk-position-small uk-position-top-left pp-back-arrow",onClick:t}):a.a.createElement(a.a.Fragment,null)}function We(e){var t=e.title,n=e.onBack,r=e.children;return a.a.createElement("div",{className:"default-background"},a.a.createElement("div",{className:"uk-container uk-text-center@m"},a.a.createElement("div",{className:"uk-section uk-section-xsmall"},a.a.createElement(Be,{goBack:n})),a.a.createElement("h1",{className:"uk-heading-divider uk-margin-top"},t),a.a.createElement("div",{className:"uk-align-center uk-width-1-2@m"},r)))}var He=Object(i.c)(function(e){return{meetings:e.meetings,error:e.error}},function(e){return{startPollingMeetings:function(){return e({type:Ce})},stopPollingMeetings:function(){return e({type:Me})},deleteMeeting:function(t){return e(function(e){return{type:Ie,payload:e}}(t))},goToMeeting:function(t){return e(ke(t))},goToCreateMeeting:function(){return e(fe())}}})(function(e){var t=e.meetings,n=void 0===t?[]:t,c=e.startPollingMeetings,o=e.stopPollingMeetings,u=e.deleteMeeting,i=e.goToMeeting,s=e.goToCreateMeeting;return Object(r.useEffect)(function(){return c(),function(){o()}},[c,o]),a.a.createElement(We,{title:"Meetings"},n.map(function(e,t){return a.a.createElement("div",{key:t,className:"uk-card uk-card-primary uk-card-body uk-margin-top",onClick:function(){return i(e._id)}},a.a.createElement("div",{className:"uk-flex uk-flex-middle","data-uk-grid":!0},a.a.createElement("div",{className:"uk-width-5-6"},a.a.createElement("span",{className:""},e.name)),a.a.createElement("div",{className:"uk-padding-remove-left uk-flex uk-flex-right uk-width-1-6"},a.a.createElement("button",{className:"uk-icon-button","data-uk-icon":"icon: trash","uk-tooltip":"title: Delete Meeting",onClick:function(t){t.stopPropagation(),u(e._id)}}))))}),a.a.createElement("div",{className:"uk-align-center uk-flex uk-flex-center"},a.a.createElement("button",{className:"uk-icon-button","data-uk-icon":"icon: plus","uk-tooltip":"title: Add Meeting",onClick:s})))}),Je=l.a.mark(et),Ve=l.a.mark(tt),Xe=l.a.mark(nt),Fe=l.a.mark(rt),$e="STORIES_SUCCESS",qe="STORIES_ERROR",ze="STORIES_GET_REQUESTED",Ke="STORIES_POST_REQUESTED",Ze="STORY_DELETE_REQUESTED";function et(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.h)(ze,tt);case 2:return e.next=4,Object(d.h)(Ke,nt);case 4:return e.next=6,Object(d.h)(Ze,rt);case 6:case"end":return e.stop()}},Je)}function tt(e){var t,n;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(d.b)(S.all,t);case 4:return n=r.sent,r.next=7,Object(d.d)(at(n));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(d.d)(ct(r.t0));case 13:case"end":return r.stop()}},Ve,null,[[1,9]])}function nt(e){var t,n;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(d.f)(v);case 4:return n=r.sent,r.next=7,Object(d.b)(S.post,n,t);case 7:return r.next=9,Object(d.d)(ge(n));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(1),r.next=15,Object(d.d)(ct(r.t0));case 15:case"end":return r.stop()}},Xe,null,[[1,11]])}function rt(e){var t,n;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(d.f)(v);case 4:return n=r.sent,r.next=7,Object(d.b)(S.delete,t);case 7:return r.next=9,Object(d.d)(ye(n));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(1),r.next=15,Object(d.d)(ct(r.t0));case 15:case"end":return r.stop()}},Fe,null,[[1,11]])}function at(e){return{type:$e,payload:{stories:e}}}function ct(e){return{type:qe,payload:{error:e}}}var ot=Object(i.c)(function(e){return{currentMeeting:e.currentMeeting,stories:e.stories,error:e.error}},function(e){return{goToMeetings:function(){return e(ve())},goToStory:function(t,n){return e(be(t,n))},deleteStory:function(t){return e(function(e){return{type:Ze,payload:e}}(t))},createStory:function(){return e(Ee())},goToEstimate:function(t){return e(ke(t))},getStories:function(t){return e(function(e){return{type:ze,payload:e}}(t))}}})(function(e){var t=e.currentMeeting,n=e.stories,c=void 0===n?[]:n,o=e.goToMeetings,u=e.goToStory,i=e.deleteStory,s=e.createStory,l=e.goToEstimate,m=e.getStories,d=e.match;return Object(r.useEffect)(function(){m(d.params.meetingId)},[m,d]),a.a.createElement(We,{title:t.name,onBack:o},a.a.createElement("button",{className:"uk-button uk-button-secondary uk-button-small uk-position-small uk-position-top-right",onClick:function(){return l(t._id)}},"Estimate"),c.map(function(e,n){return a.a.createElement("div",{key:n,className:"uk-card uk-card-primary uk-card-body uk-margin-top uk-padding-small",onClick:function(){return u(t._id,e._id)}},a.a.createElement("div",{className:"uk-flex uk-flex-middle","data-uk-grid":!0},a.a.createElement("div",{className:"uk-flex uk-flex-left uk-width-5-6"},a.a.createElement("div",{className:"uk-flex uk-flex-column"},a.a.createElement("div",{className:"uk-text-left"},e.name),a.a.createElement("div",{className:"uk-align-left uk-text-center uk-width-auto uk-label uk-margin-small uk-margin-remove-bottom"},e.estimate_avg?"Points: "+e.estimate_avg:"Not estimated"))),a.a.createElement("div",{className:"uk-padding-remove-left uk-flex uk-flex-middle uk-flex-right uk-width-1-6"},a.a.createElement("button",{className:"uk-icon-button","data-uk-icon":"icon: trash","uk-tooltip":"title: Delete Story",onClick:function(t){t.stopPropagation(),i(e._id)}}))))}),a.a.createElement("div",{className:"uk-align-center uk-flex uk-flex-center"},a.a.createElement("button",{className:"uk-icon-button","data-uk-icon":"icon: plus","uk-tooltip":"title: Add Story",onClick:s})))});var ut=Object(i.c)(function(e){return{storyEstimate:e.storyEstimate,currentMeeting:e.currentMeeting,user:e.user,currentStory:e.currentStory}},function(e){return{goToMeetings:function(){return e(ve())},goToStories:function(t){return e(ge(t))},updateStoryEstimate:function(t,n,r){return e(function(e,t,n){return{type:N,payload:{userId:e,storyId:t,estimate:n}}}(t,n,r))},resetStoryEstimate:function(){return e(U())},startPollingCurrentStory:function(t){return e(function(e){return{type:H,payload:e}}(t))},stopPollingCurrentStory:function(){return e({type:J})}}})(function(e){var t=e.storyEstimate,n=e.currentMeeting,c=e.user,o=e.currentStory,u=e.goToMeetings,i=e.goToStories,s=e.updateStoryEstimate,l=e.resetStoryEstimate,m=e.startPollingCurrentStory,d=e.stopPollingCurrentStory,p=e.match;return Object(r.useEffect)(function(){return m(p.params.meetingId),function(){d(),l()}},[m,d,l,p]),a.a.createElement(We,{title:n.name,onBack:u},a.a.createElement("button",{className:"uk-button uk-button-secondary uk-button-small uk-position-small uk-position-top-right",onClick:function(){return i(n._id)}},"Host"),a.a.createElement("dl",{className:"uk-description-list"},a.a.createElement("dt",null,"# ",o.name," :")),a.a.createElement("div",{className:"uk-align-center uk-width-1-1@m"},[1,2,3,5,8,13].map(function(e,n){return a.a.createElement("button",{key:n,onClick:function(){return s(c._id,o._id,e)},className:"uk-button uk-margin-small-top uk-width-1-1 uk-inline uk-button-primary ".concat(t===e?"selected":""),disabled:null===o._id},e,a.a.createElement("span",{className:"uk-position-center-right uk-background-muted uk-text-emphasis uk-label uk-margin-small-right",hidden:t!==e},"Selected"))})))});var it=Object(i.c)(null,function(e){return{postMeeting:function(t){return e(function(e){return{type:Re,payload:e}}(t))},goToMeetings:function(){return e(ve())}}})(function(e){var t=e.postMeeting,n=e.goToMeetings;return a.a.createElement(We,{title:"Add Meeting",onBack:n},a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(e.target.meetingInputName.value.trim())}},a.a.createElement("div",{className:"uk-margin"},a.a.createElement("div",{className:"uk-inline uk-width-1-1"},a.a.createElement("span",{className:"uk-form-icon","data-uk-icon":"icon: users"}),a.a.createElement("input",{name:"meetingInputName",className:"uk-input",placeholder:"Name",type:"text"})),a.a.createElement("button",{className:"uk-button uk-button-primary uk-margin-small-top uk-width-1-1"},"CREATE"))))}),st=n(32),lt=n.n(st),mt={all:function(){return E("".concat(f,"/users"))},byId:function(e){return E("".concat(f,"/users/").concat(e))},create:function(e){return k("".concat(f,"/users"),e)}},dt=l.a.mark(yt),pt=l.a.mark(vt),ft=l.a.mark(ht),Et="USER_GET_REQUESTED",kt="USER_POST_REQUESTED",bt="USER_SUCCESS",gt="USER_ERROR";function yt(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.h)(Et,vt);case 2:return e.next=4,Object(d.h)(kt,ht);case 4:case"end":return e.stop()}},dt)}function vt(e){var t,n;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(d.b)(mt.byId,t);case 4:return n=r.sent,r.next=7,Object(d.d)(Ot(n));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(d.d)(St(r.t0));case 13:case"end":return r.stop()}},pt,null,[[1,9]])}function ht(e){var t,n,r;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(d.b)(mt.create,xt(t));case 4:return n=a.sent,a.next=7,Object(d.d)(Ot(n));case 7:return a.next=9,Object(d.f)(O);case 9:return r=a.sent,a.next=12,void 0!==r?Object(d.d)(Object(m.d)(r.nextPathname)):Object(d.d)(ve());case 12:a.next=18;break;case 14:return a.prev=14,a.t0=a.catch(1),a.next=18,Object(d.d)(St(a.t0));case 18:case"end":return a.stop()}},ft,null,[[1,14]])}function xt(e){return{name:e}}function Ot(e){return{type:bt,payload:{user:e}}}function St(e){return{type:gt,payload:{error:e}}}var Tt=Object(i.c)(null,function(e){return{postUser:function(t){return e(function(e){return{type:kt,payload:e}}(t))}}})(function(e){var t=e.postUser;return a.a.createElement("div",{className:"uk-container uk-flex uk-flex-middle uk-height-viewport pp-login"},a.a.createElement("div",{className:"uk-animation-slide-left-medium uk-text-center"},a.a.createElement("h2",null,"Welcome to planning poker")),a.a.createElement("div",{className:"uk-animation-scale-up uk-width-1-2@s uk-width-3-4@m"},a.a.createElement("img",{src:lt.a,alt:"login"})),a.a.createElement("div",null,a.a.createElement("form",{onSubmit:function(e){!function(e,t){e.preventDefault(),t(e.target.userInputName.value.trim())}(e,t)}},a.a.createElement("div",{className:"uk-margin"},a.a.createElement("div",{className:"uk-animation-slide-top uk-inline uk-width-1-1 uk-margin-small-top"},a.a.createElement("span",{className:"uk-form-icon","data-uk-icon":"icon: user"}),a.a.createElement("input",{name:"userInputName",className:"uk-input",placeholder:"Name",type:"text"})),a.a.createElement("button",{className:"uk-animation-slide-bottom uk-button uk-button-primary uk-width-1-1 uk-margin-small-top"},"LOGIN / CREATE")))))});var jt=Object(i.c)(function(e){return{currentMeeting:e.currentMeeting}},function(e){return{goToStories:function(t){return e(ge(t))},postStory:function(t){return e(function(e){return{type:Ke,payload:{name:e}}}(t))}}})(function(e){var t=e.goToStories,n=e.postStory,r=e.currentMeeting;return a.a.createElement(We,{title:"Create Story",onBack:function(){return t(r._id)}},a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n(e.target.storyInputName.value.trim())}},a.a.createElement("div",{className:"uk-margin"},a.a.createElement("div",{className:"uk-inline uk-width-1-1"},a.a.createElement("span",{className:"uk-form-icon","data-uk-icon":"icon: file-edit"}),a.a.createElement("input",{name:"storyInputName",className:"uk-input",placeholder:"Name",type:"text"})),a.a.createElement("button",{className:"uk-button uk-button-primary uk-margin-small-top uk-width-1-1"},"CREATE"))))}),_t=l.a.mark(Ut),Nt=l.a.mark(Pt),wt="STORY_ESTIMATES_SUCCESS",Rt="STORY_ESTIMATES_ERROR",It="STORY_ESTIMATES_START_POLLING_REQUESTED",Ct="STORY_ESTIMATES_STOP_POLLING_REQUESTED",Mt=4e3;function Ut(){var e;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(d.g)(It);case 3:return e=t.sent,t.next=6,Object(d.e)({task:Object(d.b)(Pt,e),cancel:Object(d.g)(Ct)});case 6:t.next=0;break;case 8:case"end":return t.stop()}},_t)}function Pt(e){var t,n;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t=e.payload;case 1:return r.prev=2,r.next=5,Object(d.b)(S.getStoryEstimates,t);case 5:return n=r.sent,r.next=8,Object(d.d)({type:wt,payload:{storyEstimates:n}});case 8:r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(2),r.next=14,Object(d.d)((a=r.t0,{type:Rt,payload:{error:a}}));case 14:return r.next=16,Object(d.c)(Mt);case 16:r.next=1;break;case 18:case"end":return r.stop()}var a},Nt,null,[[2,10]])}var Dt=Object(i.c)(function(e){return{currentMeeting:e.currentMeeting,currentStory:e.currentStory,storyEstimates:e.storyEstimates}},function(e){return{goToStories:function(t){return e(ge(t))},updateCurrentStory:function(t,n){return e(function(e,t){return{type:ce,payload:{meetingId:e,storyId:t}}}(t,n))},startPollingStoryEstimates:function(t){return e(function(e){return{type:It,payload:e}}(t))},stopPollingStoryEstimates:function(){return e({type:Ct})}}})(function(e){var t=e.currentMeeting,n=e.currentStory,c=e.storyEstimates,o=e.goToStories,u=e.updateCurrentStory,i=e.startPollingStoryEstimates,s=e.stopPollingStoryEstimates,l=e.match;Object(r.useEffect)(function(){return u(l.params.meetingId,l.params.storyId),i(l.params.storyId),function(){u(l.params.meetingId,null),s()}},[u,i,s,l]);var m=function(e,t){return e+t};function d(e){return e.user&&e.user.name&&e.estimate}return a.a.createElement(We,{title:t.name,onBack:function(){return o(t._id)}},a.a.createElement("dl",{className:"uk-description-list"},a.a.createElement("dt",null,"# ",n.name," :")),a.a.createElement("div",{className:"uk-align-center uk-width-1-2@m"},a.a.createElement("table",{className:"uk-table uk-table-divider"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{className:"uk-text-center"},"Name"),a.a.createElement("th",{className:"uk-text-center"},"Estimate"))),a.a.createElement("tbody",null,c.filter(d).map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",{className:"uk-text-center"},e.user.name),a.a.createElement("td",{className:"uk-text-center"},e.estimate))}),function(){var e,t=c.filter(d);return t.length>0?a.a.createElement("tr",{className:"uk-text-bold",key:"average"},a.a.createElement("td",{className:"uk-text-center"},"Average"),a.a.createElement("td",{className:"uk-text-center"},(e=t.map(function(e){return e.estimate}),e&&m?Math.ceil(e.reduce(m,0)/e.length):0).toString())):""}()))))}),Lt=n(11),At=n(13),Gt=n(16),Qt={_id:null,name:null};function Yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0;return t.type===bt?t.payload.user:e}var Bt=0;function Wt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;return t.type===R?t.payload.estimate:e}function Ht(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===Ne?t.payload.meetings:e}function Jt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===$e?t.payload.stories:e}var Vt=n(33),Xt=n.n(Vt),Ft=[we,gt,re,B,I,qe,Rt];function $t(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0;return Ft.some(function(t){return t===e.type})?(Xt.a.notification({message:"\xaf\\_(\u30c4)_/\xaf Something went wrong...",status:"danger",timeout:4e3}),e.payload):null}var qt={_id:null,name:"Loading Meeting...",current_story:null};function zt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1?arguments[1]:void 0;return t.type===ne?t.payload.currentMeeting:e}var Kt={_id:null,name:"No story selected"};function Zt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1?arguments[1]:void 0;return t.type===Y?null!==t.payload.currentStory?t.payload.currentStory:Kt:e}var en=[];function tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en,t=arguments.length>1?arguments[1]:void 0;return t.type===wt?t.payload.storyEstimates:e}var nn=function(e){return Object(Lt.c)({router:Object(Gt.b)(e),storyEstimate:Wt,user:Yt,meetings:Ht,stories:Jt,currentMeeting:zt,currentStory:Zt,storyEstimates:tn,error:$t})},rn=n(30),an=n(35),cn=l.a.mark(ln),on=Object(an.a)(),un=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Lt.d,sn=Object(At.a)();function ln(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)([yt(),Pe(),oe(),C(),oe(),X(),Ut(),Oe(),et()]);case 2:case"end":return e.stop()}},cn)}n(54);var mn=function(){var e=Object(Lt.e)(nn(sn),un(Object(Lt.a)(Object(rn.a)(sn),on)));return on.run(ln),e}();o.a.render(a.a.createElement(i.a,{store:mn},a.a.createElement(function(){return a.a.createElement(Gt.a,{history:sn},a.a.createElement(u.a,{exact:!0,path:"/",component:Tt}),a.a.createElement(u.a,{path:"/meetings/",component:He}),a.a.createElement(u.a,{path:"/meeting/create/",component:it}),a.a.createElement(u.a,{path:"/meeting/:meetingId/estimate/",component:ut}),a.a.createElement(u.a,{path:"/meeting/:meetingId/stories/",component:ot}),a.a.createElement(u.a,{path:"/story/create/",component:jt}),a.a.createElement(u.a,{path:"/meeting/:meetingId/story/:storyId/summary/",component:Dt}))},null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,1,2]]]);
//# sourceMappingURL=main.0257b988.chunk.js.map